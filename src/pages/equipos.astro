---
import { allTeams } from "@api/teams";
import CardTeam from "@components/teams/CardTeam.astro";
import type { Team, Teams } from "@interfaces/all-teams.interfaces";
import Layout from "@layouts/Layout.astro";


const response = await fetch('https://api.football-data.org/v4/competitions/PL/teams/', {
            headers: {
                'X-Auth-Token' : 'a0b3953a5dbc43d1ac22f6eca855f532'
            }
});
// const data = (await allTeams()) as Teams;

const data = await response.json() as Teams;

console.log(data);
const title = 'Equipos | Pag.';
---

<Layout title={title}>
    <section class="bg-pag-m">

        <h2 class="text-center font-extrabold text-2xl text-white ">Equipos</h2>

        <div class="mt-25 grid gap-3 grid-cols-2 xl:grid-cols-7 container mx-auto max-w-[1080px]">
            {
                data.teams.map(res => (

                    <CardTeam 
                        name={res.name}
                        image={res.crest}
                        url={res.tla}
                    />
                )
                )
            }
        </div>

    </section>
    
</Layout>